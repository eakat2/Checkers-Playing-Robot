syms c1 s1 c2 s2 c3 s3 c4 s4 L1 L2 L3 L4 L5 x y z c23 s23 c234 s234 K1 real

T01 = [[c1 -s1 0 0];[s1 c1 0 0];[0 0 1 L1];[0 0 0 1]];
T12 = [[c2 -s2 0 0];[0 0 -1 L2];[-s2 -c2 0 0];[0 0 0 1]];
T23 = [[c3 -s3 0 L3];[s3 c3 0 0];[0 0 1 0];[0 0 0 1]];
T34 = [[c4 -s4 0 L4];[s4 c4 0 0];[0 0 1 0];[0 0 0 1]];
P5 = [L5 0 0 1]';
P0 = [x y z 1]';

LHS = inv(T12) * inv(T01) * P0;
RHS = T23 * T34 * P5;

L1*c2 - c2*z - c1*s2*x - s1*s2*y;

a = expand((K1 - L4*c23 - L5*c234)^2 + (L1 - z - L4*s23 - L5*s234)^2)